<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" rel="stylesheet" href="/css/bootstrap.min.css">
    <title>갈비대첩 재고관리 사이트</title>
    <style>
      .b {border: solid 1px black}
    </style>
</head>
<body>
      <section class="py-5 text-center container">
        <div class="row py-lg-5">
          <div class="col-lg-6 col-md-8 mx-auto">
            <h1 >재고물품을 선택한 후 <br>수량을 입력해 주세요.</h1>
          </div>
        </div>
      </section>
      
      <div class="container text-center min-vw-50 min-vh-50 p-3">
        <div class="row row-cols-3" id="stocks">
          <div class="col pb-2">
            <input type="radio" name="stockCd" class="btn-check stockCds" autocomplete="off" id="stock-1">
            <label class="btn btn-outline-primary w-100 h-100" for="stock-1">돼지갈비</label>
          </div>
          <div class="col pb-2">
            <input type="radio" name="stockCd" class="btn-check stockCds" autocomplete="off" id="stock-2">
            <label class="btn btn-outline-primary w-100" for="stock-2">돼지갈비</label>
          </div>
          <div class="col pb-2">
            <input type="radio" name="stockCd" class="btn-check stockCds" autocomplete="off" id="stock-3">
            <label class="btn btn-outline-primary w-100" for="stock-3">돼지갈비</label>
          </div>
          <div class="col pb-2">
            <input type="radio" name="stockCd" class="btn-check stockCds" autocomplete="off" id="stock-4">
            <label class="btn btn-outline-primary w-100" for="stock-4">돼지갈비</label>
          </div>
          <div class="col pb-2">
            <input type="radio" name="stockCd" class="btn-check stockCds" autocomplete="off" id="stock-5">
            <label class="btn btn-outline-primary w-100" for="stock-5">돼지갈비</label>
          </div>
          <div class="col pb-2">
            <input type="radio" name="stockCd" class="btn-check stockCds" autocomplete="off" id="stock-6">
            <label class="btn btn-outline-primary w-100" for="stock-6">돼지갈비</label>
          </div>
        </div>

      </div>

      <div class="container">
        <div class="form-floating">
          <input type="text" name="count" id="count" class="form-control">
          <label for="count">수량</label>
        </div>
        
      </div>  
      
</body>
<script src="/js/http.js"></script>
<script defer src="/js/bootstrap.bundle.min.js"></script>
<script>

  const callStocks = function(){
    const response = get('http://localhost:8000/api/provider/stocks');
    console.log(response)
    if(response){
      const stockDiv = document.querySelector('#stocks');
      createStocksHtml(response, stockDiv);
    }else{
      alert('fail')
    }
  }

  const createStocksHtml = function(response, target){
    let html = '';
    for(var i=0; i < response.length; i++){
      html += `
              <div class="col pb-2">
                <input type="radio" name="stockId" class="btn-check" autocomplete="off" id="stock-${i}">
                <label class="btn btn-outline-primary w-100 h-100" for="stock-${i}">${response[i].stockName}</label> 
              </div>
              `;
    }
    target.innerHTML = html;
  }

  const provide = function(){
  }

  callStocks()
</script>
</html>